<nav [class.collapsed]="isCollapsed" class="sidebar">
  <button (click)="toggleSidebar()" class="toggle-btn" aria-label="Toggle Sidebar">
    <i class="fas" [ngClass]="{'fa-angle-left': !isCollapsed, 'fa-angle-right': isCollapsed}"></i>
  </button>

  <ul class="menu">
    <li>
      <a routerLink="/dashboard" routerLinkActive="active">
        <i class="fas fa-home"></i>
        <span class="link-text">Dashboard</span>
      </a>
    </li>
    <li class="menu-group">
      <span
        class="group-title"
        (click)="toggleGroup('cadastro')"
        [class.collapsed]="isCollapsed"
        tabindex="0"
        role="button"
        [attr.aria-expanded]="expandedGroups.cadastro"
      >
        Cadastro
        <i 
          *ngIf="!isCollapsed"
          class="fas"
          [ngClass]="{'fa-chevron-down': expandedGroups.cadastro, 'fa-chevron-right': !expandedGroups.cadastro}">
        </i>
      </span>
      <ul [hidden]="!expandedGroups.cadastro || isCollapsed">
        <li>
          <a routerLink="/passageiro/cadastro" routerLinkActive="active">
            <i class="fas fa-user"></i>
            <span class="link-text">Passageiro</span>
          </a>
        </li>
        <li>
          <a routerLink="/empresa/cadastro" routerLinkActive="active">
            <i class="fas fa-building"></i>
            <span class="link-text">Empresa</span>
          </a>
        </li>
        <li>
          <a routerLink="/tipousuario/cadastro" routerLinkActive="active">
            <i class="fas fa-users-cog"></i>
            <span class="link-text">Tipo de Usuário</span>
          </a>
        </li>
      </ul>
    </li>

    <li class="menu-group">
      <span
        class="group-title"
        (click)="toggleGroup('listagem')"
        [class.collapsed]="isCollapsed"
        tabindex="0"
        role="button"
        [attr.aria-expanded]="expandedGroups.listagem"
      >
        Listagem
        <i 
          *ngIf="!isCollapsed"
          class="fas"
          [ngClass]="{'fa-chevron-down': expandedGroups.listagem, 'fa-chevron-right': !expandedGroups.listagem}">
        </i>
      </span>
      <ul [hidden]="!expandedGroups.listagem || isCollapsed">
        <li>
          <a routerLink="/passageiro/listagem" routerLinkActive="active">
            <i class="fas fa-user"></i>
            <span class="link-text">Passageiro</span>
          </a>
        </li>
        <li>
          <a routerLink="/empresa/listagem" routerLinkActive="active">
            <i class="fas fa-building"></i>
            <span class="link-text">Empresa</span>
          </a>
        </li>
        <li>
          <a routerLink="/tipousuario/listagem" routerLinkActive="active">
            <i class="fas fa-users-cog"></i>
            <span class="link-text">Tipo de Usuário</span>
          </a>
        </li>
      </ul>
    </li>
  </ul>

  <button class="logout-button" (click)="logout()">
    <span class="material-icons">logout</span>
    Sair
  </button>
</nav>
