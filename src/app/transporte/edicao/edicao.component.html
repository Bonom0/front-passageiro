<div class="container d-flex justify-content-center mt-5">
  <div class="w-100" style="max-width: 1280px">
    <p class="text-center fs-4 mb-4">Edição de Passageiro</p>

    <form #formPassageiro="ngForm" (ngSubmit)="salvar()" novalidate>
      <div class="mb-3">
        <label class="form-label">Nome:</label>
        <input
          name="nome"
          type="text"
          [(ngModel)]="passageiro.nome"
          class="form-control"
          required
          #nome="ngModel"
        />
      </div>
      <div *ngIf="nome.invalid && nome.touched" class="text-danger mb-2">
        O nome é obrigatório.
      </div>

      <div class="mb-3">
        <label class="form-label">CPF:</label>
        <input
          name="cpf"
          type="text"
          [(ngModel)]="passageiro.cpf"
          class="form-control"
          mask="000.000.000-00"
          required
          #cpf="ngModel"
        />
      </div>
      <div *ngIf="cpf.invalid && cpf.touched" class="text-danger mb-2">
        O CPF é obrigatório.
      </div>

      <div class="mb-3">
        <label class="form-label">Contato:</label>
        <input
          name="contato"
          type="text"
          [(ngModel)]="passageiro.contato"
          class="form-control"
          mask="(00) 00000-0000"
          required
          #contato="ngModel"
        />
      </div>
      <div *ngIf="contato.invalid && contato.touched" class="text-danger mb-2">
        O contato é obrigatório.
      </div>

      <div class="mb-3">
        <label class="form-label">E-mail:</label>
        <input
          name="email"
          type="email"
          [(ngModel)]="passageiro.email"
          class="form-control"
          required
          #email="ngModel"
        />
      </div>
      <div *ngIf="email.invalid && email.touched" class="text-danger mb-2">
        O e-mail é obrigatório.
      </div>

      <div class="input-group mb-3">
        <span class="input-group-text">Senha:</span>
        <input
          class="form-control"
          name="senha"
          type="password"
          [(ngModel)]="passageiro.senha"
          minlength="6"
          required
          #senha="ngModel"
        />
        <div *ngIf="senha.invalid && senha.touched" class="text-danger">
          <span *ngIf="senha.errors?.['required']">A senha é obrigatória.</span>
          <span *ngIf="senha.errors?.['minlength']">A senha deve ter no mínimo 6 caracteres.</span>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">CEP:</label>
        <input
          name="cep"
          type="text"
          [(ngModel)]="passageiro.cep"
          class="form-control"
          mask="00000-000"
          required
          #cep="ngModel"
        />
      </div>
      <div *ngIf="cep.invalid && cep.touched" class="text-danger mb-2">
        O CEP é obrigatório.
      </div>

      <div class="mb-3">
        <label class="form-label">Rua:</label>
        <input
          name="rua"
          type="text"
          [(ngModel)]="passageiro.rua"
          class="form-control"
          required
          #rua="ngModel"
        />
      </div>
      <div *ngIf="rua.invalid && rua.touched" class="text-danger mb-2">
        A rua é obrigatória.
      </div>

      <div class="mb-3">
        <label class="form-label">Horário Embarque:</label>
        <input
          type="datetime-local"
          class="form-control"
          [(ngModel)]="passageiro.horario_embarque"
          name="horario_embarque"
          required
          #horario_embarque="ngModel"
        />
      </div>
      <div *ngIf="horario_embarque.invalid && horario_embarque.touched" class="text-danger mb-2">
        O horário de embarque é obrigatório.
      </div>

      <div class="mb-3">
        <label class="form-label">Data de Cadastro:</label>
        <input
          type="datetime-local"
          class="form-control"
          [(ngModel)]="passageiro.dta_insert"
          name="dta_insert"
          readonly
        />
      </div>

      <div class="input-group mb-3">
        <span class="input-group-text">Motorista:</span>
        <select
          class="form-select"
          name="motorista"
          [(ngModel)]="passageiro.id_motorista"
          required
          #motorista="ngModel"
        >
          <option value="" disabled>Selecione um motorista</option>
          <option *ngFor="let motorista of motoristas" [value]="motorista.id">
            {{ motorista.nome }}
          </option>
        </select>
      </div>
      <div *ngIf="motorista.invalid && motorista.touched" class="text-danger mb-2">
        O motorista é obrigatório.
      </div>

      <div class="input-group mb-3">
        <span class="input-group-text">Tipo de Usuário:</span>
        <select
          class="form-control"
          [(ngModel)]="passageiro.tipo"
          name="tipo"
          required
          #tipo="ngModel"
        >
          <option value="" disabled selected>Selecione um tipo</option>
          <option *ngFor="let tipo of tiposUsuario" [value]="tipo.id">{{ tipo.descricao }}</option>
        </select>
      </div>
      <div *ngIf="tipo.invalid && tipo.touched" class="text-danger mb-2">
        O tipo de usuário é obrigatório.
      </div>

      <button type="submit" class="btn btn-primary w-100" [disabled]="formPassageiro.invalid">
        Gravar
      </button>
    </form>
  </div>
</div>
